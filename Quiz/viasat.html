<!DOCTYPE html>
<html>
<head>
  <title>‚ö†Ô∏è VIASAT Attack Simulator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="styleAttack.css">
</head>
<body>
  <div class="container">
    <h1 class="title">‚ö†Ô∏è VIASAT Cyber Attack - 24 Feb 2022</h1>
    
    <!-- TERMINAL HACKER -->
    <div class="terminal">
      <div class="terminal-header">
        <span>root@grus-hacker:~#</span> <span class="blink">_</span>
      </div>
      <div id="terminal-output" class="terminal-body"></div>
      <input id="hack-input" type="text" placeholder="Enter command..." onkeypress="runCommand(event)">
    </div>

    <!-- COMMANDS -->
     <div class="chat-container">
      <h4>Commands you can try:</h4>
      <h5>scan ‚Üí inject ‚Üí wiper ‚Üí spread ‚Üí destroy</h5>
     </div>

    <!-- CHAT STATUS -->
    <div class="chat-container">
      <div class="chat-title">üì° KA-SAT Network Status</div>
      <div id="chat-messages" class="chat-messages"></div>
      <input id="chat-input" type="text" placeholder="Messaggio operatore Viasat..." disabled>
    </div>

    <!-- STATS -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-number" id="modems-down">0</div>
        <div>Modems Disabled</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="users-offline">0</div>
        <div>Users Offline</div>
      </div>
      <div class="stat-card danger">
        <div class="stat-number" id="attack-progress">0%</div>
        <div>AcidRain Progress</div>
      </div>
    </div>

    <!-- RESET BUTTON -->
    <div style="text-align:center; margin: 30px 0;">
      <button class="button" onclick="resetAttack()">Reset</button>
    </div>

  </div>


  <br>
  <br>
  <br>


  <div class="challenge">
      <a href="../index.html"><button class="button">Personality Test</button></a><br>
      <a href="fakeDatabase.html"><button class="button">Wanna check out some Satellites?</button></a><br>
      <a href="quizGame.html"><button class="button">You up for a challenge?</button></a><br>
    </div>


  <script>
    let attackProgress = 0;
    let modemsDown = 0;
    let usersOffline = 0;
    const commands = ['scan', 'inject', 'wiper', 'spread', 'destroy'];
    let currentStep = 0;  // realismo ordine
    const commandSequence = ['scan', 'inject', 'wiper', 'spread', 'destroy'];  // realismo ordine

    // Comandi hacker russi
    function runCommand(event) {
      if (event.key === 'Enter') {
        const input = document.getElementById('hack-input');
        const output = document.getElementById('terminal-output');
        const cmd = input.value.toLowerCase().trim();
        
        output.innerHTML += `<div>[GRU] ${cmd}</div>`;
        
        // ‚úÖ SEQUENZA OBBLIGATORIA
        if (cmd === commandSequence[currentStep]) {
          currentStep++;
          attackProgress += 20;
          modemsDown += 2500;
          usersOffline += 5000;
          
          output.innerHTML += `<div class="success">[+] ${getResponse(cmd)}</div>`;
          updateStats();
          
          if (currentStep === 5) {
            completeAttack();
          }
        }
        else {
          output.innerHTML += `<div class="error">[-] ERROR: Use <strong>${commandSequence[currentStep]}</strong></div>`;
        }
        
        input.value = '';
        output.scrollTop = output.scrollHeight;
      }
    }


    function getResponse(cmd) {
      const responses = {
        'scan': 'KA-SAT gateway found: 37.XXX.XXX.XXX',
        'inject': 'AcidRain wiper injected into modems',
        'wiper': 'Firmware wipe completed... 100%',
        'spread': 'Malware propagated to 25,000+ modems',
        'destroy': 'Network completely disabled'
      };
      return responses[cmd] || 'Executing...';
    }

    function updateStats() {
      document.getElementById('modems-down').textContent = modemsDown.toLocaleString();
      document.getElementById('users-offline').textContent = usersOffline.toLocaleString();
      document.getElementById('attack-progress').textContent = attackProgress + '%';
      
      // Chat updates
      addChatMessage('Viasat Ops', `üö® ALERT: ${modemsDown.toLocaleString()} modems offline!`);
    }

    function addChatMessage(sender, message) {
      const chat = document.getElementById('chat-messages');
      chat.innerHTML += `<div><strong>${sender}:</strong> ${message}</div>`;
      chat.scrollTop = chat.scrollHeight;
    }

    function completeAttack() {
      document.getElementById('terminal-output').innerHTML += 
        '<div class="success">[‚úì] MISSION COMPLETED - KA-SAT destroyed</div>';
      document.getElementById('hack-input').disabled = true;
      addChatMessage('Viasat Ops', 'üí• NETWORK DOWN - Ukrainian military communications interrupted!');
      
      setTimeout(() => {
        alert('üéØ VIASAT ATTACK SIMULATED!\n\n24 Feb 2022 - 06:00 UTC\nRussia disables 25,000+ modems\nUkraine loses C2 before invasion');
      }, 2000);
    }

    // Chat iniziale
    addChatMessage('Viasat Ops', 'KA-SAT system operational - 58,000 modems online');
    addChatMessage('Viasat Ops', 'Anomalous traffic detected from Russian IPs...');
  
    function resetAttack() {
      attackProgress = 0;
      modemsDown = 0;
      usersOffline = 0;
      currentStep = 0;
      document.getElementById('terminal-output').innerHTML = '';
      document.getElementById('chat-messages').innerHTML = '';
      document.getElementById('hack-input').disabled = false;
      document.getElementById('modems-down').textContent = '0';
      document.getElementById('users-offline').textContent = '0';
      document.getElementById('attack-progress').textContent = '0%';
    }

  
  </script>
</body>
</html>
